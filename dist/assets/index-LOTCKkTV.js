import{r as fe,a as ge,g as me}from"./vendor-DgTrhVr3.js";import{r as v,I as xe,a as pe,b as ye,c as je,d as B,e as Z,f as ee,g as V,h as _,i as z,j as O,k as J,_ as Re,l as te,s as ve,m as we,n as Me,o as ke,p as be,R as L,q as We,t as Ae,u as H,v as q,w as F,x as Ee}from"./ionic-Bb47wDLd.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function c(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=c(i);fetch(i.href,r)}})();var U={exports:{}},P={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne;function Ce(){if(ne)return P;ne=1;var t=fe(),n=Symbol.for("react.element"),c=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function d(g,m,y){var w,R={},x=null,l=null;y!==void 0&&(x=""+y),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(l=m.ref);for(w in m)o.call(m,w)&&!r.hasOwnProperty(w)&&(R[w]=m[w]);if(g&&g.defaultProps)for(w in m=g.defaultProps,m)R[w]===void 0&&(R[w]=m[w]);return{$$typeof:n,type:g,key:x,ref:l,props:R,_owner:i.current}}return P.Fragment=c,P.jsx=d,P.jsxs=d,P}var se;function Ie(){return se||(se=1,U.exports=Ce()),U.exports}var e=Ie(),Y={},ie;function De(){if(ie)return Y;ie=1;var t=ge();return Y.createRoot=t.createRoot,Y.hydrateRoot=t.hydrateRoot,Y}var Te=De();const Ne=me(Te),Se="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",_e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M204 240H68a36 36 0 01-36-36V68a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM444 240H308a36 36 0 01-36-36V68a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM204 480H68a36 36 0 01-36-36V308a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36zM444 480H308a36 36 0 01-36-36V308a36 36 0 0136-36h136a36 36 0 0136 36v136a36 36 0 01-36 36z'/></svg>",ze="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='40' d='M196 220h64v172' class='ionicon-fill-none'/><path stroke-linecap='round' stroke-miterlimit='10' stroke-width='40' d='M187 396h138' class='ionicon-fill-none'/><path d='M256 160a32 32 0 1132-32 32 32 0 01-32 32z'/></svg>",Oe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Ge="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>";var b=(t=>(t.North="north",t.South="south",t.East="east",t.West="west",t.Northeast="northeast",t.Northwest="northwest",t.Southeast="southeast",t.Southwest="southwest",t))(b||{}),p=(t=>(t.Empty="empty",t.Wall="wall",t.Goal="goal",t.Hazard="hazard",t.Resource="resource",t))(p||{}),oe=(t=>(t.Predefined="predefined",t.WASM="wasm",t.RustCompiled="rust-compiled",t))(oe||{});const Pe=({worldState:t,onCellClick:n,onCellFocus:c,enablePanZoom:o=!1,enableKeyboardNavigation:i=!1,className:r=""})=>{const d=v.useRef(null),g=v.useRef(null),m=v.useRef(),[y,w]=v.useState({scale:1,offsetX:0,offsetY:0}),[R,x]=v.useState({isDragging:!1}),[l,f]=v.useState({x:0,y:0}),[E,D]=v.useState(""),M=20,j=1,C=.3,I=a=>getComputedStyle(document.documentElement).getPropertyValue(`--ion-color-${a}`).trim(),G={[p.Empty]:I("light")||"#f4f5f8",[p.Wall]:I("dark")||"#222428",[p.Goal]:I("success")||"#2dd36f",[p.Hazard]:I("danger")||"#eb445a",[p.Resource]:I("primary")||"#3880ff",border:I("medium")||"#92949c",agent:I("warning")||"#ffc409",agentBorder:I("warning-shade")||"#e0ac08",focus:I("tertiary")||"#5260ff"},$=v.useCallback(()=>{if(!g.current)return M;const a=g.current,s=a.clientWidth,h=a.clientHeight,u=Math.floor(s/t.dimensions.width),W=Math.floor(h/t.dimensions.height);return Math.max(M,Math.min(u,W))},[t.dimensions]),K=v.useCallback((a,s)=>{const h=d.current;if(!h)return{x:0,y:0};const u=h.getBoundingClientRect(),W=$(),k=(a-u.left-y.offsetX)/y.scale,A=(s-u.top-y.offsetY)/y.scale,S=Math.floor(k/W),T=Math.floor(A/W);return{x:Math.max(0,Math.min(t.dimensions.width-1,S)),y:Math.max(0,Math.min(t.dimensions.height-1,T))}},[$,y,t.dimensions]),Q=v.useCallback(()=>{const a=d.current;if(!a)return;const s=a.getContext("2d");if(!s)return;const h=$(),u=t.dimensions.width*h,W=t.dimensions.height*h;a.width=u,a.height=W,s.save(),s.scale(y.scale,y.scale),s.translate(y.offsetX,y.offsetY),s.fillStyle="#f5f5f5",s.fillRect(0,0,u,W);for(let k=0;k<t.dimensions.height;k++)for(let A=0;A<t.dimensions.width;A++){const S=t.grid[k][A],T=A*h,X=k*h;s.fillStyle=G[S.type],s.fillRect(T,X,h,h),s.strokeStyle=G.border,s.lineWidth=j,s.strokeRect(T,X,h,h),i&&l.x===A&&l.y===k&&(s.strokeStyle=G.focus,s.lineWidth=3,s.strokeRect(T+1,X+1,h-2,h-2))}t.agents.forEach(k=>{const A=k.position.x*h+h/2,S=k.position.y*h+h/2,T=h*C;s.beginPath(),s.arc(A,S,T,0,2*Math.PI),s.fillStyle=G.agent,s.fill(),s.strokeStyle=G.agentBorder,s.lineWidth=2,s.stroke(),h>30&&(s.fillStyle="#000000",s.font=`${Math.floor(h*.2)}px Arial`,s.textAlign="center",s.textBaseline="middle",s.fillText(k.id.slice(-2),A,S))}),s.restore()},[t,$,y,l,i]),N=v.useCallback(a=>{a.preventDefault();let s,h;if("touches"in a)if(a.touches.length===1)s=a.touches[0].clientX,h=a.touches[0].clientY;else return;else s=a.clientX,h=a.clientY;const u=K(s,h);n&&n(u);const W=t.grid[u.y][u.x],k=t.agents.get(W.occupant||""),A=k?`Cell ${u.x}, ${u.y} contains agent ${k.id}`:`Cell ${u.x}, ${u.y} is ${W.type}`;D(A)},[K,n,t]),ce=v.useCallback(a=>{if(!o){N(a);return}if(a.touches.length===2){const s=a.touches[0],h=a.touches[1],u=Math.sqrt(Math.pow(h.clientX-s.clientX,2)+Math.pow(h.clientY-s.clientY,2)),W=(s.clientX+h.clientX)/2,k=(s.clientY+h.clientY)/2;x({lastTouchDistance:u,lastTouchCenter:{x:W,y:k},isDragging:!1})}else a.touches.length===1&&x({lastTouchCenter:{x:a.touches[0].clientX,y:a.touches[0].clientY},isDragging:!0})},[o,N]),le=v.useCallback(a=>{if(o){if(a.preventDefault(),a.touches.length===2&&R.lastTouchDistance&&R.lastTouchCenter){const s=a.touches[0],h=a.touches[1],u=Math.sqrt(Math.pow(h.clientX-s.clientX,2)+Math.pow(h.clientY-s.clientY,2)),W=u/R.lastTouchDistance,k=Math.max(.5,Math.min(3,y.scale*W));w(A=>({...A,scale:k})),x(A=>({...A,lastTouchDistance:u}))}else if(a.touches.length===1&&R.isDragging&&R.lastTouchCenter){const s=a.touches[0].clientX-R.lastTouchCenter.x,h=a.touches[0].clientY-R.lastTouchCenter.y;w(u=>({...u,offsetX:u.offsetX+s,offsetY:u.offsetY+h})),x(u=>({...u,lastTouchCenter:{x:a.touches[0].clientX,y:a.touches[0].clientY}}))}}},[o,R,y.scale]),de=v.useCallback(a=>{if(!o){N(a);return}a.touches.length===0&&(!R.isDragging&&R.lastTouchCenter&&N(a),x({isDragging:!1}))},[o,R,N]),he=v.useCallback(a=>{if(!i)return;let s={...l};switch(a.key){case"ArrowUp":s.y=Math.max(0,l.y-1);break;case"ArrowDown":s.y=Math.min(t.dimensions.height-1,l.y+1);break;case"ArrowLeft":s.x=Math.max(0,l.x-1);break;case"ArrowRight":s.x=Math.min(t.dimensions.width-1,l.x+1);break;case"Enter":case" ":n&&n(l);break;default:return}if(a.preventDefault(),s.x!==l.x||s.y!==l.y){f(s),c&&c(s);const h=t.grid[s.y][s.x],u=t.agents.get(h.occupant||""),W=u?`Focused on cell ${s.x}, ${s.y} containing agent ${u.id}`:`Focused on cell ${s.x}, ${s.y}, ${h.type} cell`;D(W)}},[i,l,t,n,c]);v.useEffect(()=>(m.current&&cancelAnimationFrame(m.current),m.current=requestAnimationFrame(Q),()=>{m.current&&cancelAnimationFrame(m.current)}),[Q]);const ue=v.useCallback(()=>{const a=t.agents.size,s={[p.Empty]:0,[p.Wall]:0,[p.Goal]:0,[p.Hazard]:0,[p.Resource]:0};return t.grid.forEach(h=>{h.forEach(u=>{s[u.type]++})}),`Grid world ${t.dimensions.width} by ${t.dimensions.height} with ${a} agents. Contains ${s[p.Wall]} walls, ${s[p.Goal]} goals, ${s[p.Hazard]} hazards, and ${s[p.Resource]} resources.`},[t]);return e.jsxs("div",{ref:g,className:`grid-world-container ${r}`,role:"application","aria-label":"Multi-agent grid world simulation",children:[e.jsx("canvas",{ref:d,className:"grid-world-canvas",role:"img","aria-label":"Grid world visualization","aria-describedby":"grid-description grid-live-region",tabIndex:i?0:-1,onMouseDown:N,onTouchStart:ce,onTouchMove:le,onTouchEnd:de,onKeyDown:he}),e.jsx("div",{id:"grid-description",className:"sr-only","aria-hidden":"true",children:ue()}),e.jsx("div",{id:"grid-live-region",className:"sr-only",role:"status","aria-live":"polite","aria-label":"Grid updates",children:E})]})};class re{id;name;type=oe.Predefined;constructor(n,c){this.id=n,this.name=c||this.constructor.name}initialize(n){}cleanup(){}}class ae extends re{constructor(n){super(n,"Random Walker")}step(n,c){const o=this.getAvailableDirections(n,c);return o.length===0?{type:"wait"}:{type:"move",direction:o[Math.floor(Math.random()*o.length)]}}getAvailableDirections(n,c){const o=[],{x:i,y:r}=c.position,{width:d,height:g}=n.dimensions;return r>0&&this.canMoveTo(n,i,r-1)&&o.push(b.North),r<g-1&&this.canMoveTo(n,i,r+1)&&o.push(b.South),i>0&&this.canMoveTo(n,i-1,r)&&o.push(b.West),i<d-1&&this.canMoveTo(n,i+1,r)&&o.push(b.East),o}canMoveTo(n,c,o){const i=n.grid[o][c];return i.type!==p.Wall&&!i.occupant}}class $e extends re{constructor(n){super(n,"Goal Seeker")}step(n,c){const o=this.findNearestGoal(n,c.position);if(!o)return new ae(this.id).step(n,c);const i=this.getDirectionToward(c.position,o);if(i&&this.canMoveTo(n,c.position,i))return{type:"move",direction:i};const r=this.getAlternativeDirections(n,c,o);return r.length>0?{type:"move",direction:r[0]}:{type:"wait"}}findNearestGoal(n,c){let o=null,i=1/0;for(let r=0;r<n.dimensions.height;r++)for(let d=0;d<n.dimensions.width;d++)if(n.grid[r][d].type===p.Goal){const g=Math.abs(d-c.x)+Math.abs(r-c.y);g<i&&(i=g,o={x:d,y:r})}return o}getDirectionToward(n,c){const o=c.x-n.x,i=c.y-n.y;return Math.abs(o)>Math.abs(i)?o>0?b.East:b.West:i!==0?i>0?b.South:b.North:null}getAlternativeDirections(n,c,o){return[b.North,b.South,b.East,b.West].filter(d=>this.canMoveTo(n,c.position,d)).sort((d,g)=>{const m=this.getPositionInDirection(c.position,d),y=this.getPositionInDirection(c.position,g),w=Math.abs(m.x-o.x)+Math.abs(m.y-o.y),R=Math.abs(y.x-o.x)+Math.abs(y.y-o.y);return w-R})}getPositionInDirection(n,c){switch(c){case b.North:return{x:n.x,y:n.y-1};case b.South:return{x:n.x,y:n.y+1};case b.East:return{x:n.x+1,y:n.y};case b.West:return{x:n.x-1,y:n.y};default:return n}}canMoveTo(n,c,o){const i=this.getPositionInDirection(c,o);if(i.x<0||i.x>=n.dimensions.width||i.y<0||i.y>=n.dimensions.height)return!1;const r=n.grid[i.y][i.x];return r.type!==p.Wall&&!r.occupant}}const Le=()=>{const[t,n]=v.useState(()=>{const l={width:8,height:6},f=Array(l.height).fill(null).map(()=>Array(l.width).fill(null).map(()=>({type:p.Empty})));return f[2][3]={type:p.Wall},f[2][4]={type:p.Wall},f[3][3]={type:p.Wall},f[1][6]={type:p.Goal},f[4][2]={type:p.Hazard},f[5][5]={type:p.Resource},{grid:f,agents:new Map,dimensions:l,tick:0}}),[c,o]=v.useState(!1),[i,r]=v.useState(!1),[d,g]=v.useState(null),m=l=>{g(l),console.log("Cell clicked:",l)},y=l=>{console.log("Cell focused:",l)},w=()=>{const l=`random-${Date.now()}`;new ae(l);const f=[];for(let M=0;M<t.dimensions.height;M++)for(let j=0;j<t.dimensions.width;j++){const C=t.grid[M][j];C.type===p.Empty&&!C.occupant&&f.push({x:j,y:M})}if(f.length===0)return;const E=f[Math.floor(Math.random()*f.length)],D={id:l,position:E,health:100,energy:75};n(M=>{const j={...M};return j.agents=new Map(M.agents),j.agents.set(l,D),j.grid=M.grid.map(C=>[...C]),j.grid[E.y][E.x]={...j.grid[E.y][E.x],occupant:l},j})},R=()=>{const l=`seeker-${Date.now()}`;new $e(l);const f=[];for(let M=0;M<t.dimensions.height;M++)for(let j=0;j<t.dimensions.width;j++){const C=t.grid[M][j];C.type===p.Empty&&!C.occupant&&f.push({x:j,y:M})}if(f.length===0)return;const E=f[Math.floor(Math.random()*f.length)],D={id:l,position:E,health:100,energy:75};n(M=>{const j={...M};return j.agents=new Map(M.agents),j.agents.set(l,D),j.grid=M.grid.map(C=>[...C]),j.grid[E.y][E.x]={...j.grid[E.y][E.x],occupant:l},j})},x=()=>{n(l=>{const f={...l};return f.agents=new Map,f.grid=l.grid.map(E=>E.map(D=>({...D,occupant:void 0}))),f})};return e.jsxs(xe,{children:[e.jsx(pe,{children:e.jsx(ye,{children:"Grid World Demo"})}),e.jsxs(je,{children:[e.jsx("div",{className:"grid-demo-container",children:e.jsx(Pe,{worldState:t,onCellClick:m,onCellFocus:y,enablePanZoom:c,enableKeyboardNavigation:i})}),e.jsxs("div",{className:"ion-margin-top",children:[e.jsx(B,{onClick:w,size:"small",fill:"outline",children:"Add Random Walker"}),e.jsx(B,{onClick:R,size:"small",fill:"outline",className:"ion-margin-start",children:"Add Goal Seeker"}),e.jsx(B,{onClick:x,size:"small",color:"danger",fill:"outline",className:"ion-margin-start",children:"Clear Agents"})]}),e.jsxs("div",{className:"ion-margin-top",children:[e.jsx(Z,{children:e.jsx(ee,{checked:c,onIonChange:l=>o(l.detail.checked),children:"Enable Pan & Zoom"})}),e.jsx(Z,{children:e.jsx(ee,{checked:i,onIonChange:l=>r(l.detail.checked),children:"Enable Keyboard Navigation"})})]}),d&&e.jsxs("div",{className:"selected-cell-info ion-margin-top ion-padding",children:[e.jsx("strong",{children:"Selected Cell:"})," (",d.x,", ",d.y,") - ",t.grid[d.y][d.x].type,t.grid[d.y][d.x].occupant&&e.jsxs(e.Fragment,{children:[" | ",e.jsx("strong",{children:"Agent:"})," ",t.grid[d.y][d.x].occupant]})]}),e.jsxs("div",{className:"ion-text-center ion-margin-top",children:[e.jsx("p",{children:e.jsx("small",{children:"ðŸŸ¦ Empty | â¬› Wall | ðŸŸ¢ Goal | ðŸ”´ Hazard | ðŸ”µ Resource | ðŸŸ  Agent"})}),e.jsx("p",{children:e.jsxs("small",{children:["Agents: ",t.agents.size," | Tick: ",t.tick]})})]})]})]})},Ye=()=>e.jsxs(V,{children:[e.jsx(_,{children:e.jsx(z,{children:e.jsx(O,{children:"Multi-Agent Grid World"})})}),e.jsxs(J,{fullscreen:!0,children:[e.jsx(_,{collapse:"condense",children:e.jsx(z,{children:e.jsx(O,{size:"large",children:"Multi-Agent Grid World"})})}),e.jsx(Le,{})]})]}),Xe=()=>e.jsxs(V,{children:[e.jsx(_,{children:e.jsx(z,{children:e.jsx(O,{children:"Settings"})})}),e.jsxs(J,{fullscreen:!0,children:[e.jsx(_,{collapse:"condense",children:e.jsx(z,{children:e.jsx(O,{size:"large",children:"Settings"})})}),e.jsx("div",{className:"ion-padding",children:e.jsx("p",{children:"Settings page - Coming soon!"})})]})]}),Be=()=>e.jsxs(V,{children:[e.jsx(_,{children:e.jsx(z,{children:e.jsx(O,{children:"About"})})}),e.jsxs(J,{fullscreen:!0,children:[e.jsx(_,{collapse:"condense",children:e.jsx(z,{children:e.jsx(O,{size:"large",children:"About"})})}),e.jsxs("div",{className:"ion-padding",children:[e.jsx("h2",{children:"Multi-Agent Grid World"}),e.jsx("p",{children:"A Progressive Web App for simulating multi-agent systems in a grid environment."}),e.jsx("p",{children:"Built with Ionic React and TypeScript."})]})]})]});function He(t={}){const{immediate:n=!1,onNeedRefresh:c,onOfflineReady:o,onRegistered:i,onRegisteredSW:r,onRegisterError:d}=t;let g,m,y;const w=async(x=!0)=>{await m,y?.()};async function R(){if("serviceWorker"in navigator){if(g=await Re(async()=>{const{Workbox:x}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:x}},[]).then(({Workbox:x})=>new x("/sw.js",{scope:"/",type:"classic"})).catch(x=>{d?.(x)}),!g)return;y=()=>{g?.messageSkipWaiting()};{let x=!1;const l=()=>{x=!0,g?.addEventListener("controlling",f=>{f.isUpdate&&window.location.reload()}),c?.()};g.addEventListener("installed",f=>{typeof f.isUpdate>"u"?typeof f.isExternal<"u"&&f.isExternal?l():!x&&o?.():f.isUpdate||o?.()}),g.addEventListener("waiting",l)}g.register({immediate:n}).then(x=>{r?r("/sw.js",x):i?.(x)}).catch(x=>{d?.(x)})}}return m=R(),w}function qe(t={}){const{immediate:n=!0,onNeedRefresh:c,onOfflineReady:o,onRegistered:i,onRegisteredSW:r,onRegisterError:d}=t,[g,m]=v.useState(!1),[y,w]=v.useState(!1),[R]=v.useState(()=>He({immediate:n,onOfflineReady(){w(!0),o?.()},onNeedRefresh(){m(!0),c?.()},onRegistered:i,onRegisteredSW:r,onRegisterError:d}));return{needRefresh:[g,m],offlineReady:[y,w],updateServiceWorker:R}}const Fe=()=>{const{offlineReady:[t,n],needRefresh:[c,o],updateServiceWorker:i}=qe({onRegisteredSW(d,g){console.log("SW Registered: "+d)},onRegisterError(d){console.log("SW registration error",d)}}),r=()=>{n(!1),o(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(te,{isOpen:t,onDidDismiss:r,message:"App ready to work offline",duration:4e3,icon:Se,color:"success",position:"top"}),e.jsx(te,{isOpen:c,onDidDismiss:r,message:"New content available, click on reload button to update.",position:"top",buttons:[{side:"start",icon:Oe,handler:()=>i(!0)},{text:"Later",role:"cancel",handler:r}]})]})};ve();const Ue=()=>e.jsx(we,{children:e.jsxs(Me,{children:[e.jsxs(ke,{children:[e.jsxs(be,{children:[e.jsx(L,{exact:!0,path:"/home",children:e.jsx(Ye,{})}),e.jsx(L,{exact:!0,path:"/settings",children:e.jsx(Xe,{})}),e.jsx(L,{path:"/about",children:e.jsx(Be,{})}),e.jsx(L,{exact:!0,path:"/",children:e.jsx(We,{to:"/home"})})]}),e.jsxs(Ae,{slot:"bottom",children:[e.jsxs(H,{tab:"home",href:"/home",children:[e.jsx(q,{"aria-hidden":"true",icon:_e}),e.jsx(F,{children:"Grid World"})]}),e.jsxs(H,{tab:"settings",href:"/settings",children:[e.jsx(q,{"aria-hidden":"true",icon:Ge}),e.jsx(F,{children:"Settings"})]}),e.jsxs(H,{tab:"about",href:"/about",children:[e.jsx(q,{"aria-hidden":"true",icon:ze}),e.jsx(F,{children:"About"})]})]})]}),e.jsx(Fe,{})]})}),Ve=Ne.createRoot(document.getElementById("root"));Ve.render(e.jsx(Ee.StrictMode,{children:e.jsx(Ue,{})}));
